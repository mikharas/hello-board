(this.webpackJsonphello2=this.webpackJsonphello2||[]).push([[0],{144:function(e,n,t){e.exports=t(387)},149:function(e,n,t){},387:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(12),i=t.n(o),c=(t(149),t(16)),l=t(449),d=t(20),u=t(25),s=t(27),p=t.n(s),m=t(3),f=t(41),b=t(104),g=function(e,n){return{type:"ADD_COLUMN",payload:{columnId:e,insertAfter:n}}},h=function(e,n){return function(){var t=Object(f.a)(p.a.mark((function t(a,r){var o,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"SET_LOADING",payload:!0}),o=Object(m.a)(Object(m.a)({},r().board),{},{columns:Object(m.a)({},r().columns),tasks:Object(m.a)({},r().tasks),todoItems:Object(m.a)({},r().todoItems)}),i={"Content-Type":"application/json",Authorization:"Bearer: ".concat(n)},t.next=5,b.patch("".concat("http://localhost:3000","/boards/").concat(e),o,{headers:i});case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},O=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:"ADD_TASK",payload:{columnId:e,taskId:n,content:t}}},E=function(e,n){return{type:"DEL_TASK",payload:{columnId:e,taskId:n}}},x=t(454),v=t(104),j=function(e,n){return function(){var t=Object(f.a)(p.a.mark((function t(a){var r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={"Content-Type":"application/json",Authorization:"Bearer: ".concat(n)},t.next=3,v.get("".concat("http://localhost:3000","/boards/user/").concat(e),{headers:r}).then((function(e){var n=x.a((function(e){return e.id}),e.data.boards);Object.keys(n).forEach((function(e){n[e]=n[e][0]})),a({type:"SET_USER_BOARDS_DATA",payload:n}),a({type:"SET_LOADING",payload:!1})}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},y=function(e){return{type:"SET_SELECTED_TASK",payload:e}},k=t(10),I=t(7),T=t(8),w=t(435),C=t(135),D=t(31),S=t(85),N=t(115),_=t(450),A=Object(a.createContext)({resetTimeout:function(){}}),M=Object(a.createContext)({userId:null,token:null,login:function(){},logout:function(){}}),L=t(130),B=t(436),z=t(434),R=t(21),F=t(22),P=t(57),U=t(77),H=t.n(U),V=t(429),W=t(433);function K(){var e=Object(I.a)(["\n  width: 100%;\n  outline: none;\n  border: none;\n  background: transparent;\n  font-size: 15px;\n  font-family: inherit;\n  font-weight: bold;\n"]);return K=function(){return e},e}function G(){var e=Object(I.a)(["\n  width: 100%;\n  height: 10px;\n  position: absolute;\n  top: 0;\n  left: 0;\n"]);return G=function(){return e},e}function Y(){var e=Object(I.a)(["\n  border: ",";\n  padding: 10px;\n  position: relative;\n  margin-bottom: 8px;\n  background: ",";\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-direction: row;\n  min-height: 40px;\n  .icon {\n    font-size: 15px;\n    padding-left: 4px;\n    padding-right: 4px;\n    color: red;\n  }\n\n  .clock {\n    top: 50%;\n    padding: 0;\n  }\n\n  .date-icons {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    padding-left: 4px;\n    padding-right: 4px;\n  }\n\n  h2 {\n    font-size: 14px;\n    color: red;\n    padding: 0;\n    margin: 0;\n  }\n"]);return Y=function(){return e},e}var J=Object(T.a)(V.a)(Y(),(function(e){return e.isFilterMatched?"3px solid black":"none"}),(function(e){return e.isDragDisabled?"lightgrey":"white"})),q=Object(T.a)(W.a)(G()),Q=T.a.h1(K()),X=r.a.memo((function(e){e.changeTitle;var n=e.title,t=e.description,o=e.taskId,i=e.index,c=e.todo,l=e.date,d=e.completedPercentage,u=e.setSelectedTask,s=e.filterStr,p=Object(a.useState)(!1),m=Object(k.a)(p,2),f=m[0],b=m[1];Object(a.useEffect)((function(){b(!!s&&n.toLowerCase().includes(s.toLowerCase()))}),[s]);var g=Object(a.useCallback)((function(){var e=new Date,n=new Date(l)-e,t=Math.floor(n/864e5)+1;return 0===t?"today":"".concat(t,"d")}),[l]);return r.a.createElement(D.b,{key:o,draggableId:o,index:i},(function(e,a){return r.a.createElement(H.a,{style:e.draggableProps.style,snapshot:a},(function(i){return r.a.createElement("div",Object.assign({},e.draggableProps,e.dragHandleProps,{isDragging:a.isDragging,ref:e.innerRef,style:i}),r.a.createElement(J,{elevation:a.isDragging?16:2,onClick:function(){return u(o)},isFilterMatched:f},0!==c.length&&r.a.createElement(q,{variant:"determinate",color:"secondary",value:d}),r.a.createElement(Q,null,n),t&&r.a.createElement(R.a,{className:"icon",icon:F.f}),l&&r.a.createElement("div",{className:"date-icons"},r.a.createElement("h2",null,g()),r.a.createElement(R.a,{className:"icon clock",icon:F.e}))))}))}))})),$=t(65),Z=t.n($),ee=t(90),ne=t.n(ee),te=t(122),ae=t.n(te);t(369);function re(){var e=Object(I.a)(['\n  margin: 6px 8px;\n  body {\n    font-family: Helvetica, arial, sans-serif;\n    font-size: 14px;\n    line-height: 1.6;\n    padding-top: 10px;\n    padding-bottom: 10px;\n    background-color: white;\n    padding: 30px; }\n\n  body > *:first-child {\n    margin-top: 0 !important; }\n  body > *:last-child {\n    margin-bottom: 0 !important; }\n\n  a {\n    color: #4183C4; }\n  a.absent {\n    color: #cc0000; }\n  a.anchor {\n    display: block;\n    padding-left: 30px;\n    margin-left: -30px;\n    cursor: pointer;\n    position: absolute;\n    top: 0;\n    left: 0;\n    bottom: 0; }\n\n  h1, h2, h3, h4, h5, h6 {\n    margin: 20px 0 10px;\n    padding: 0;\n    font-weight: bold;\n    -webkit-font-smoothing: antialiased;\n    cursor: text;\n    position: relative; }\n\n  h1:hover a.anchor, h2:hover a.anchor, h3:hover a.anchor, h4:hover a.anchor, h5:hover a.anchor, h6:hover a.anchor {\n    /* background: url("../../images/modules/styleguide/para.png") no-repeat 10px center; */\n    text-decoration: none; }\n\n  h1 tt, h1 code {\n    font-size: inherit; }\n\n  h2 tt, h2 code {\n    font-size: inherit; }\n\n  h3 tt, h3 code {\n    font-size: inherit; }\n\n  h4 tt, h4 code {\n    font-size: inherit; }\n\n  h5 tt, h5 code {\n    font-size: inherit; }\n\n  h6 tt, h6 code {\n    font-size: inherit; }\n\n  h1 {\n    font-size: 28px;\n    color: black; }\n\n  h2 {\n    font-size: 24px;\n    border-bottom: 1px solid #cccccc;\n    color: black; }\n\n  h3 {\n    font-size: 18px; }\n\n  h4 {\n    font-size: 16px; }\n\n  h5 {\n    font-size: 14px; }\n\n  h6 {\n    color: #777777;\n    font-size: 14px; }\n\n  p, blockquote, ul, ol, dl, li, table, pre {\n    margin: 15px 0; }\n\n  hr {\n    /* background: transparent url("../../images/modules/pulls/dirty-shade.png") repeat-x 0 0; */\n    border: 0 none;\n    color: #cccccc;\n    height: 4px;\n    padding: 0; }\n\n  body > h2:first-child {\n    margin-top: 0;\n    padding-top: 0; }\n  body > h1:first-child {\n    margin-top: 0;\n    padding-top: 0; }\n    body > h1:first-child + h2 {\n      margin-top: 0;\n      padding-top: 0; }\n  body > h3:first-child, body > h4:first-child, body > h5:first-child, body > h6:first-child {\n    margin-top: 0;\n    padding-top: 0; }\n\n  a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 {\n    margin-top: 0;\n    padding-top: 0; }\n\n  h1 p, h2 p, h3 p, h4 p, h5 p, h6 p {\n    margin-top: 0; }\n\n  li p.first {\n    display: inline-block; }\n\n  ul, ol {\n    padding-left: 30px; }\n\n  ul :first-child, ol :first-child {\n    margin-top: 0; }\n\n  ul :last-child, ol :last-child {\n    margin-bottom: 0; }\n\n  dl {\n    padding: 0; }\n    dl dt {\n      font-size: 14px;\n      font-weight: bold;\n      font-style: italic;\n      padding: 0;\n      margin: 15px 0 5px; }\n      dl dt:first-child {\n        padding: 0; }\n      dl dt > :first-child {\n        margin-top: 0; }\n      dl dt > :last-child {\n        margin-bottom: 0; }\n    dl dd {\n      margin: 0 0 15px;\n      padding: 0 15px; }\n      dl dd > :first-child {\n        margin-top: 0; }\n      dl dd > :last-child {\n        margin-bottom: 0; }\n\n  blockquote {\n    border-left: 4px solid #dddddd;\n    padding: 0 15px;\n    color: #777777; }\n    blockquote > :first-child {\n      margin-top: 0; }\n    blockquote > :last-child {\n      margin-bottom: 0; }\n\n  table {\n    padding: 0; }\n    table tr {\n      border-top: 1px solid #cccccc;\n      background-color: white;\n      margin: 0;\n      padding: 0; }\n      table tr:nth-child(2n) {\n        background-color: #f8f8f8; }\n      table tr th {\n        font-weight: bold;\n        border: 1px solid #cccccc;\n        text-align: left;\n        margin: 0;\n        padding: 6px 13px; }\n      table tr td {\n        border: 1px solid #cccccc;\n        text-align: left;\n        margin: 0;\n        padding: 6px 13px; }\n      table tr th :first-child, table tr td :first-child {\n        margin-top: 0; }\n      table tr th :last-child, table tr td :last-child {\n        margin-bottom: 0; }\n\n  img {\n    max-width: 100%; }\n\n  span.frame {\n    display: block;\n    overflow: hidden; }\n    span.frame > span {\n      border: 1px solid #dddddd;\n      display: block;\n      float: left;\n      overflow: hidden;\n      margin: 13px 0 0;\n      padding: 7px;\n      width: auto; }\n    span.frame span img {\n      display: block;\n      float: left; }\n    span.frame span span {\n      clear: both;\n      color: #333333;\n      display: block;\n      padding: 5px 0 0; }\n  span.align-center {\n    display: block;\n    overflow: hidden;\n    clear: both; }\n    span.align-center > span {\n      display: block;\n      overflow: hidden;\n      margin: 13px auto 0;\n      text-align: center; }\n    span.align-center span img {\n      margin: 0 auto;\n      text-align: center; }\n  span.align-right {\n    display: block;\n    overflow: hidden;\n    clear: both; }\n    span.align-right > span {\n      display: block;\n      overflow: hidden;\n      margin: 13px 0 0;\n      text-align: right; }\n    span.align-right span img {\n      margin: 0;\n      text-align: right; }\n  span.float-left {\n    display: block;\n    margin-right: 13px;\n    overflow: hidden;\n    float: left; }\n    span.float-left span {\n      margin: 13px 0 0; }\n  span.float-right {\n    display: block;\n    margin-left: 13px;\n    overflow: hidden;\n    float: right; }\n    span.float-right > span {\n      display: block;\n      overflow: hidden;\n      margin: 13px auto 0;\n      text-align: right; }\n\n  code, tt {\n    margin: 0 2px;\n    padding: 0 5px;\n    white-space: nowrap;\n    border: 1px solid #eaeaea;\n    background-color: #f8f8f8;\n    border-radius: 3px; }\n\n  pre code {\n    margin: 0;\n    padding: 0;\n    white-space: pre;\n    border: none;\n    background: transparent; }\n\n  .highlight pre {\n    background-color: #f8f8f8;\n    border: 1px solid #cccccc;\n    font-size: 13px;\n    line-height: 19px;\n    overflow: auto;\n    padding: 6px 10px;\n    border-radius: 3px; }\n\n  pre {\n    background-color: #f8f8f8;\n    border: 1px solid #cccccc;\n    font-size: 13px;\n    line-height: 19px;\n    overflow: auto;\n    padding: 6px 10px;\n    border-radius: 3px; }\n    pre code, pre tt {\n      background-color: transparent;\n      border: none; }\n']);return re=function(){return e},e}var oe=T.a.div(re());function ie(){var e=Object(I.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  align-items: flex-start;\n"]);return ie=function(){return e},e}var ce=T.a.div(ie()),le={outline:"none",background:"white",marginTop:"13px",marginBottom:"15px",fontFamily:"inherit",fontWeight:"bold",fontSize:"30px",padding:"15px",width:"90%",borderRadius:"15px",border:"0"},de=new ne.a.Converter({extensions:[ae.a],ghCodeBlocks:!0});de.setFlavor("github");var ue=r.a.memo((function(e){var n=e.title,t=e.changeTitle,o=e.style,i=e.normalStyle,c=e.allowEmpty,l=e.allowEnter,d=e.rows,u=e.showButtons,s=e.showMarkdown,p=Object(a.useState)(n),m=Object(k.a)(p,2),f=m[0],b=m[1],g=Object(a.useState)(!1),h=Object(k.a)(g,2),O=h[0],E=h[1],x=Object(a.useRef)(),v=Object(a.useCallback)((function(){E(!O)}),[O]),j=function(e){return b(e)},y=function(){f||c?(t(f),v()):(j(n),v())};return!O&&s?r.a.createElement(oe,{onClick:function(){return v()},dangerouslySetInnerHTML:{__html:de.makeHtml(f)}}):O?r.a.createElement(z.a,{onClickAway:y},r.a.createElement(ce,null,r.a.createElement(Z.a,{style:o||le,ref:function(e){x=e},autoFocus:!0,onFocus:function(e){return e.target.select()},value:f,rows:d||3,onInput:function(e){return j(e.target.value)},onKeyDown:function(e){if(l&&"Enter"===e.key&&y(),9===e.keyCode){e.preventDefault();var n=e.target.selectionStart,t=e.target.selectionEnd,a="".concat(f.substring(0,n),"  ").concat(f.substring(t));b(a),setTimeout((function(){x.selectionStart=n+2,x.selectionEnd=n+2}))}},type:"text"}),u&&r.a.createElement("div",null,r.a.createElement(w.a,{onClick:y},"Save"),r.a.createElement(w.a,{onClick:function(){b(""),t(""),v()}},"Delete")))):r.a.createElement("h1",{onClick:function(){return v()},style:o&&i},n)}));function se(){var e=Object(I.a)(["\n  width: 100%;\n  height: 10px;\n  position: absolute;\n  top: 0;\n  left: 0;\n"]);return se=function(){return e},e}function pe(){var e=Object(I.a)(["\n  border: ",";\n  padding: 10px;\n  position: relative;\n  margin-bottom: 8px;\n  background: ",";\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  flex-direction: row;\n  min-height: 40px;\n  .icon {\n    font-size: 15px;\n    padding-left: 4px;\n    padding-right: 4px;\n    color: red;\n  }\n\n  .clock {\n    top: 50%;\n    padding: 0;\n  }\n\n  .date-icons {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    padding-left: 4px;\n    padding-right: 4px;\n  }\n\n  h2 {\n    font-size: 14px;\n    color: red;\n    padding: 0;\n    margin: 0;\n  }\n"]);return pe=function(){return e},e}var me=Object(T.a)(V.a)(pe(),(function(e){return e.isFilterMatched?"3px solid black":"none"}),(function(e){return e.isDragDisabled?"lightgrey":"white"})),fe=Object(T.a)(W.a)(se()),be={width:"100%",outline:"none",border:"none",background:"transparent",fontSize:"15px",fontFamily:"inherit",fontWeight:"bold"},ge={width:"100%",outline:"none",border:"none",background:"transparent",fontSize:"15px",fontFamily:"inherit",fontWeight:"bold"},he=r.a.memo((function(e){var n=e.changeTitle,t=e.title,o=e.description,i=e.taskId,c=e.index,l=e.todo,d=e.date,u=e.completedPercentage,s=e.setSelectedTask,p=e.filterStr,m=Object(a.useState)(!1),f=Object(k.a)(m,2),b=f[0],g=f[1],h=Object(a.useState)(!1),O=Object(k.a)(h,2),E=O[0],x=O[1];Object(a.useEffect)((function(){x(!!p&&t.toLowerCase().includes(p.toLowerCase()))}),[p]);var v=Object(a.useCallback)((function(){var e=new Date,n=new Date(d)-e,t=Math.floor(n/864e5)+1;return 0===t?"today":"".concat(t,"d")}),[d]);return r.a.createElement(D.b,{key:i,draggableId:i,index:c},(function(e,a){return r.a.createElement(H.a,{style:e.draggableProps.style,snapshot:a},(function(c){return r.a.createElement("div",Object.assign({},e.draggableProps,e.dragHandleProps,{isDragging:a.isDragging,ref:e.innerRef,style:c}),r.a.createElement(me,{elevation:a.isDragging?16:2,onMouseEnter:function(){return g(!0)},onMouseLeave:function(){return g(!1)},isFilterMatched:E},0!==l.length&&r.a.createElement(fe,{variant:"determinate",color:"secondary",value:u}),r.a.createElement(ue,{title:t,changeTitle:function(e){return n(i,e)},style:ge,normalStyle:be,allowEnter:!0}),o&&r.a.createElement(R.a,{className:"icon",icon:F.f}),d&&r.a.createElement("div",{className:"date-icons"},r.a.createElement("h2",null,v()),r.a.createElement(R.a,{className:"icon clock",icon:F.e})),b&&r.a.createElement(B.a,{onClick:function(){return s(i)}},r.a.createElement(R.a,{size:"sm",icon:F.g}))))}))}))})),Oe=function(e,n){return{type:"CHANGE_TASK_TITLE",payload:{taskId:e,newTitle:n}}},Ee=P.isMobile?X:he,xe={changeTitle:Oe,setSelectedTask:y},ve=Object(c.b)((function(e,n){var t=e.tasks[n.taskId];return{title:t.title,description:t.description,date:t.date,completedCount:t.completedCount,todo:t.todo,completedPercentage:t.completedCount/t.todo.length*100,filterStr:e.gb.filterStr}}),xe)(Ee);function je(){var e=Object(I.a)(["\n  .input {\n    width: 100%;\n    height: 35px;\n    outline: none;\n    border: none;\n  }\n"]);return je=function(){return e},e}function ye(){var e=Object(I.a)(["\n  min-height: 45px;\n  width: 100%;\n  outline: none;\n  border: none;\n  background: transparent;\n  font-size: inherit;\n  font-family: inherit;\n  padding: 10px;\n"]);return ye=function(){return e},e}var ke=Object(T.a)(Z.a)(ye()),Ie=Object(T.a)(V.a)(je()),Te={width:"100%",outline:"none",border:"none",background:"transparent",fontSize:"15px",fontFamily:"inherit",fontWeight:"bold"},we=r.a.memo((function(e){var n=e.columnId,t=e.addTask,o=Object(a.useState)(""),i=Object(k.a)(o,2),c=i[0],l=i[1],d=Object(a.useState)(!0),u=Object(k.a)(d,2),s=u[0],p=u[1],m=Object(a.useCallback)((function(){p(!s)}),[s]);return s?r.a.createElement(w.a,{className:"button",onClick:m},"+ Add Task"):r.a.createElement(z.a,{onClickAway:function(){c&&(t(n,Object(_.a)(),c),l("")),m()}},r.a.createElement(Ie,null,r.a.createElement(ke,{autoFocus:!0,placeholder:"Enter text here...",style:Te,className:"input",type:"text",elevation:3,value:c,onChange:function(e){return l(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(c&&(t(n,Object(_.a)(),c),l("")),m())}})))}));function Ce(){var e=Object(I.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-top: 7px;\n"]);return Ce=function(){return e},e}function De(){var e=Object(I.a)(["\n  position: absolute;\n  left: 15px;\n  top: 15px;\n\n  .MuiIconButton-root {\n    font-size: 15px;\n  }\n\n  .del {\n    color: red;\n  }\n\n  .ins {\n    color: green;\n  }\n\n  .swp {\n    color: yellow;\n  }\n"]);return De=function(){return e},e}function Se(){var e=Object(I.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return Se=function(){return e},e}function Ne(){var e=Object(I.a)(["\n  position: relative;\n  background: #EBECF0;\n  border-radius: 10px;\n  display: flex;\n  flex-direction: column;\n  padding: 6px;\n  padding-bottom: 15px;\n  margin: 10px;\n  flex-grow: 1;\n"]);return Ne=function(){return e},e}var _e={outline:"none",marginTop:"13px",marginBottom:"15px",fontFamily:"inherit",fontWeight:"bold",fontSize:"22px",padding:"15px"},Ae={outline:"none",background:"white",marginTop:"13px",marginBottom:"15px",fontFamily:"inherit",fontWeight:"bold",fontSize:"22px",padding:"15px",width:"90%",borderRadius:"15px",border:"0"},Me=Object(T.a)(L.a)(Ne()),Le=T.a.div(Se()),Be=T.a.div(De()),ze=T.a.div(Ce()),Re=r.a.memo((function(e){var n=e.title,t=e.changeColumnTitle;return r.a.createElement(ze,null,r.a.createElement(ue,{rows:1,title:n,changeTitle:t,style:Ae,normalStyle:_e,allowEnter:!0}))})),Fe=Object(a.forwardRef)((function(e,n){var t=e.skipRender,o=e.title,i=e.changeTitle,c=e.columnId,l=e.addTask,d=e.addColumn,u=(e.delColumn,e.flagColumnHandler),s=e.taskOrder,p=e.isLargeScreen,m=e.boardSelectedColumn,f=e.boardId,b=e.setOpenDialog,g=e.setWillBeDeleted,h=Object(a.useCallback)((function(e){i(c,e)}),[c]);return t?null:r.a.createElement(Me,{isLargeScreen:p,elevation:m===c?24:0},r.a.createElement(Be,null,r.a.createElement(B.a,{size:"small",className:"del"},r.a.createElement(R.a,{icon:F.d,onClick:function(){g(c),b(!0)}})),r.a.createElement(z.a,{onClickAway:function(){u(c,!0)}},r.a.createElement(B.a,{size:"small",className:"swp"},r.a.createElement(R.a,{icon:F.d,onClick:function(){return u(c,!1)}}))),r.a.createElement(B.a,{size:"small",className:"ins"},r.a.createElement(R.a,{icon:F.d,onClick:function(){return d(c,Object(_.a)())}}))),r.a.createElement(Re,{title:o,changeColumnTitle:h}),r.a.createElement(D.c,{droppableId:c},(function(e,n){return r.a.createElement(Le,Object.assign({ref:e.innerRef},e.droppableProps,{isDraggingOver:n.isDraggingOver}),s.map((function(e,n){return r.a.createElement(ve,{columnId:c,taskId:e,index:n,boardId:f})})),e.placeholder)})),r.a.createElement(we,{columnId:c,addTask:l}))})),Pe=r.a.memo(Fe),Ue={addTask:O,addColumn:g,changeTitle:function(e,n){return{type:"CHANGE_COLUMN_TITLE",payload:{columnId:e,title:n}}}},He=r.a.memo(Object(c.b)((function(e,n){return e.columns[n.columnId]?{title:e.columns[n.columnId].title,taskOrder:e.columns[n.columnId].taskOrder,boardSelectedColumn:e.board.selectedColumn}:{skipRender:!0}}),Ue)(Pe)),Ve=t(123),We=t.n(Ve),Ke=t(393),Ge=t(392),Ye=t(132),Je=t(80),qe=t.n(Je),Qe=t(437),Xe=t(390),$e=t(451);function Ze(){var e=Object(I.a)(["\n  background: ",";\n  border-radius: 15px;\n  text-decoration: ",";\n  color: ",";\n  // height: 50px;\n"]);return Ze=function(){return e},e}var en=Object(T.a)(Xe.a)(Ze(),(function(e){var n=e.isHovered,t=e.isDragging;return n||t?"#EBECF0":"#fff"}),(function(e){return e.isChecked&&"line-through"}),(function(e){return e.isChecked&&"red"})),nn={width:"100%",outline:"none",border:"none",fontWeight:"normal",fontSize:"15px",fontFamily:"inherit"},tn={width:"100%",outline:"none",border:"none",fontWeight:"normal",fontSize:"15px",fontFamily:"inherit"},an={width:"100%",color:"red",textDecoration:"line-through",outline:"none",border:"none",fontWeight:"normal",fontSize:"15px",fontFamily:"inherit"},rn=r.a.memo((function(e){e.key;var n=e.index,t=e.columnId,o=e.todoItemId,i=e.title,c=e.isCompleted,l=e.changeTitle,d=e.toggleIsCompleted,u=e.taskId,s=e.incrementCompleted,p=e.decrementCompleted,m=e.delTodoItem,f=e.addTask,b=Object(a.useState)(!1),g=Object(k.a)(b,2),h=g[0],O=g[1],E=Object(a.useCallback)((function(e){l(o,e)}),[o]);return r.a.createElement(D.b,{key:o,draggableId:o,index:n},(function(e,n){return r.a.createElement(en,Object.assign({},e.draggableProps,e.dragHandleProps,{ref:e.innerRef,isHovered:h,isDragging:n.isDragging,onMouseEnter:function(){return O(!0)},onMouseLeave:function(){return O(!1)}}),r.a.createElement($e.a,{checked:c,edge:"start",tabIndex:-1,onClick:function(e){e.stopPropagation(),d(o),c?p(u):s(u)}}),r.a.createElement(ue,{title:i,changeTitle:E,style:tn,normalStyle:c?an:nn,rows:1,allowEnter:!0}),r.a.createElement(w.a,{onClick:function(){m(u,o),c&&p(u)}},"Del"),r.a.createElement(w.a,{onClick:function(){f(t,Object(_.a)(),i),m(u,o)}},"Change"))}))})),on={changeTitle:function(e,n){return{type:"CHANGE_TODO_ITEM_TITLE",payload:{todoItemId:e,newTitle:n}}},toggleIsCompleted:function(e){return{type:"TOGGLE_IS_COMPLETED",payload:{todoItemId:e}}},delTodoItem:function(e,n){return{type:"DEL_TODO_ITEM",payload:{taskId:e,todoItemId:n}}},incrementCompleted:function(e){return{type:"INCREMENT_COMPLETED_COUNT",payload:{taskId:e}}},decrementCompleted:function(e){return{type:"DECREMENT_COMPLETED_COUNT",payload:{taskId:e}}},addTask:O},cn=Object(c.b)((function(e,n){var t=e.todoItems[n.todoItemId];return{title:t&&t.title,isCompleted:t&&t.isCompleted}}),on)(rn);function ln(){var e=Object(I.a)(["\n  .input {\n    width: 100%;\n    height: 35px;\n    outline: none;\n    border: 1px solid teal;\n  }\n"]);return ln=function(){return e},e}function dn(){var e=Object(I.a)(["\n  min-height: 45px;\n  width: 100%;\n  outline: none;\n  border: none;\n  background: transparent;\n  font-size: inherit;\n  font-family: inherit;\n"]);return dn=function(){return e},e}var un=Object(T.a)(Z.a)(dn()),sn=T.a.div(ln()),pn=r.a.memo((function(e){var n=e.taskId,t=e.addTodoItem,o=Object(a.useState)(""),i=Object(k.a)(o,2),c=i[0],l=i[1],d=Object(a.useState)(!0),u=Object(k.a)(d,2),s=u[0],p=u[1],m=Object(a.useCallback)((function(){p(!s)}),[s]);return s?r.a.createElement(w.a,{className:"button",onClick:m},"+ Add Todo Item"):r.a.createElement(z.a,{onClickAway:function(){c&&(t(n,Object(_.a)(),c),l("")),m()}},r.a.createElement(sn,null,r.a.createElement(un,{autoFocus:!0,placeholder:"Enter text here...",className:"input",type:"text",elevation:3,value:c,onChange:function(e){return l(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(c&&(t(n,Object(_.a)(),c),l("")),m())}})))}));function mn(){var e=Object(I.a)(["\n  width: 100%;\n  max-height: 320px;\n  overflow: auto;\n"]);return mn=function(){return e},e}function fn(){var e=Object(I.a)(["\n  text-align: center;\n\n  .progress-text {\n    font-size: 14px;\n  }\n"]);return fn=function(){return e},e}var bn=T.a.div(fn()),gn=Object(T.a)(L.a)(mn()),hn=r.a.memo((function(e){var n=e.todo,t=e.taskId,a=e.addTodoItem,o=e.completedPercentage,i=e.columnId,c=r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"progress-text"},Math.floor(o)||0,"% completed"),r.a.createElement(W.a,{variant:"determinate",color:"secondary",value:o||0}));return 0==n.length?r.a.createElement(r.a.Fragment,null):r.a.createElement(bn,null,0!==n.length&&c,r.a.createElement(D.c,{droppableId:t},(function(e){return r.a.createElement(gn,Object.assign({ref:e.innerRef},e.droppableProps,{elevation:0}),r.a.createElement(Qe.a,null,n.map((function(e,n){return r.a.createElement(cn,{index:n,taskId:t,columnId:i,todoItemId:e})}))),e.placeholder)})),r.a.createElement(pn,{taskId:t,addTodoItem:a}))}));function On(){var e=Object(I.a)(["\n  z-index: 10;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n\n  .card {\n    width: 550px;\n    height: 80%;\n    padding: 50px 25px;\n    overflow: scroll;\n    position: relative;\n  }\n\n  .row {\n    display: flex;\n    align-items: center;\n    margin-bottom: 20px;\n    width: 100%;\n    position: relative;\n  }\n\n  .description {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    height: 100%;\n  }\n\n  .icon {\n    color: teal;\n    height: 20px;\n    width: 20px;\n    margin-right: 20px;\n  }\n\n  .iconButton {\n    margin-right: 0;\n  }\n\n  .modalH1 {\n    font-size: 18px;\n    font-family: inherit;\n    font-weight: bold;\n    margin: 6px 8px;\n    margin-right: 15px;\n    color: black;\n  }\n\n  .stickyRight {\n    position: absolute;\n    right: 0;\n    top: 0;\n  }\n\n  .closeModal {\n    top: 40px;\n    right: 20px;\n    z-index: 10;\n  }\n\n  .deleteButton {\n    color: red;\n  }\n"]);return On=function(){return e},e}var En=Object(T.a)(Ke.a)(On()),xn={width:"100%",outline:"none",border:"0",fontSize:"15px",fontFamily:"inherit",fontWeight:"normal",whiteSpace:"pre-line"},vn={width:"100%",outline:"none",border:"solid 1px teal",fontSize:"15px",fontFamily:"inherit",fontWeight:"normal",whiteSpace:"pre-line"},jn={width:"80%",outline:"none",border:"none",margin:"6px 8px",background:"transparent",fontSize:"18px",fontFamily:"inherit",fontWeight:"bold"},yn={width:"80%",outline:"none",margin:"6px 8px",border:"solid 1px teal",background:"transparent",fontSize:"18px",fontFamily:"inherit",fontWeight:"bold"},kn=r.a.memo((function(e){var n=e.title,t=e.columnId,o=e.description,i=e.taskId,c=e.todo,l=e.changeTitle,u=e.changeDescription,s=e.addTodoItem,m=e.delTask,b=e.moveTodosInTask,g=e.completedPercentage,h=e.date,O=e.addDate,E=e.getUserBoardsData,x=e.saveData,v=e.boardId,j=e.delDate,y=e.delAllTodoItem,I=(e.isLoading,e.setSelectedTask),T=Object(a.useState)(!1),C=Object(k.a)(T,2),S=C[0],N=C[1],A=Object(a.useContext)(M),z=A.userId,P=A.token,U=Object(d.g)();Object(a.useEffect)((function(){N(Boolean(i))}),[i]);var H=function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(v,P).then((function(){E(z,P).then((function(){N(!1),I(null),U.push("/calendar/".concat(qe()(h).format("YYYY-MM")))}))}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(En,{BackdropComponent:Ge.a,open:S,onClose:function(){N(!1),I(null)}},r.a.createElement(Ye.a,{in:S},r.a.createElement(L.a,{className:"card"},r.a.createElement(B.a,{className:"stickyRight closeModal",onClick:function(){N(!1),I(null)}},r.a.createElement(R.a,{icon:F.h})),r.a.createElement("div",{className:"row"},r.a.createElement(R.a,{className:"icon",icon:F.a}),r.a.createElement(ue,{title:n,changeTitle:function(e){return l(i,e)},normalStyle:jn,style:yn,allowEnter:!0})),r.a.createElement("div",{className:"row"},r.a.createElement(R.a,{className:"icon",icon:F.f}),o?r.a.createElement(ue,{title:o,changeTitle:function(e){return u(i,e)},style:vn,normalStyle:xn,allowEmpty:!0,showButtons:!0,showMarkdown:!0}):r.a.createElement(w.a,{onClick:function(){return u(i,"New description")}},"Add a description")),r.a.createElement("div",{className:"row"},r.a.createElement(R.a,{className:"icon",icon:F.b}),h?r.a.createElement(r.a.Fragment,null,r.a.createElement(We.a,{className:"item",onChange:function(e){e?O(i,e.toISOString()):j(i)},value:new Date(h)}),r.a.createElement(w.a,{className:"modalH1",onClick:H},"go to calendar")):r.a.createElement(w.a,{onClick:function(){var e=new Date;O(i,e.toISOString())}},"Add Due Date")),r.a.createElement("div",{className:"row"},r.a.createElement(R.a,{className:"icon",icon:F.c}),c&&c.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"modalH1"},"Todo list"),r.a.createElement(B.a,{className:"stickyRight",onClick:function(){return y(i)}},r.a.createElement(R.a,{className:"icon iconButton",icon:F.i}))):r.a.createElement(w.a,{onClick:function(){return s(i,Object(_.a)(),"New item")}},"Add todo list")),r.a.createElement(D.a,{onDragEnd:function(e){var n=e.destination,t=e.source;n&&(n.droppableId===t.droppableId&&n.index===t.index||b(t.droppableId,t.index,n.index))}},c&&r.a.createElement(hn,{todo:c,taskId:i,columnId:t,addTodoItem:s,completedPercentage:g})),r.a.createElement("div",{className:"row"},r.a.createElement(R.a,{className:"icon deleteButton",icon:F.i}),r.a.createElement(w.a,{className:"deleteButton",onClick:function(){m(t,i),N(!1),I(null)}},"Delete Task")))))})),In={changeTitle:Oe,changeDescription:function(e,n){return{type:"CHANGE_TASK_DESCRIPTION",payload:{taskId:e,newDescription:n}}},moveTodosInTask:function(e,n,t){return{type:"MOVE_TODOS_IN_TASK",payload:{taskId:e,index1:n,index2:t}}},addTodoItem:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:"ADD_TODO_ITEM",payload:{taskId:e,todoItemId:n,title:t}}},delTask:E,addDate:function(e,n){return{type:"ADD_TASK_DATE",payload:{taskId:e,date:n}}},delDate:function(e){return{type:"DEL_TASK_DATE",payload:{taskId:e}}},getUserBoardsData:j,saveData:h,setSelectedTask:y,delAllTodoItem:function(e){return{type:"DEL_ALL_TODO_ITEM",payload:{taskId:e}}}},Tn=Object(c.b)((function(e){var n=e.gb.selectedTask&&e.tasks[e.gb.selectedTask];return{title:n&&n.title,description:n&&n.description,date:n&&n.date,completedCount:n&&n.completedCount,todo:n&&n.todo,completedPercentage:n&&n.completedCount/n.todo.length*100,taskId:n&&e.gb.selectedTask,columnId:n&&n.columnId,isLoading:e.gb.isLoading}}),In)(kn),wn=t(438),Cn=t(442),Dn=t(440),Sn=t(441),Nn=t(439),_n=r.a.memo((function(e){var n=e.open,t=e.onClose,a=e.onContinue,o=e.msg;return r.a.createElement(wn.a,{open:n,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(Nn.a,{id:"alert-dialog-title"},"Warning!"),r.a.createElement(Dn.a,null,r.a.createElement(Sn.a,{id:"alert-dialog-description"},o)),r.a.createElement(Cn.a,null,r.a.createElement(w.a,{onClick:a,color:"primary"},"Yes"),r.a.createElement(w.a,{onClick:t,color:"primary",autoFocus:!0},"No")))})),An=t(443);function Mn(){var e=Object(I.a)(["\n  z-index: 9999;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n"]);return Mn=function(){return e},e}var Ln=Object(T.a)(Ge.a)(Mn()),Bn=function(){return r.a.createElement(Ln,{open:!0},r.a.createElement(An.a,{color:"secondary",size:"50px",thickness:"5",value:"50"}))};function zn(){var e=Object(I.a)(["\n  border-radius: 5px;\n  background-color: #EBECF0;\n\n  padding: 5px;\n  width: 300px;\n"]);return zn=function(){return e},e}function Rn(){var e=Object(I.a)(["\n  width: ",";\n"]);return Rn=function(){return e},e}function Fn(){var e=Object(I.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 5px;\n"]);return Fn=function(){return e},e}function Pn(){var e=Object(I.a)(["\n  position: absolute;\n  left: 10px;\n  top: 10px;\n  font-size: 20px;\n  color: red;\n"]);return Pn=function(){return e},e}function Un(){var e=Object(I.a)(["\n  font-size: 20px;\n  color: red;\n"]);return Un=function(){return e},e}function Hn(){var e=Object(I.a)(["\n  margin: 35px 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n"]);return Hn=function(){return e},e}function Vn(){var e=Object(I.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: stretch;\n  justify-content: center;\n"]);return Vn=function(){return e},e}var Wn=T.a.div(Vn()),Kn=T.a.div(Hn()),Gn=Object(T.a)(w.a)(Un()),Yn=Object(T.a)(Gn)(Pn()),Jn=T.a.div(Fn()),qn=T.a.div(Rn(),(function(e){return e.isLargeScreen?"350px":"100%"})),Qn=Object(T.a)(C.a)(zn()),Xn={outline:"none",border:"1px solid lightgray",borderRadius:"10px",background:"white",marginTop:"13px",marginBottom:"15px",width:"100%",fontSize:"30px",fontFamily:"inherit",fontWeight:"bold"},$n=function(e){var n=e.title,t=e.columnOrder,o=e.changeTitle,i=e.addColumn,c=e.delColumn,l=e.selectedColumn,d=e.setSelectedColumn,s=e.swapColumns,p=e.moveTasksInColumn,m=e.moveTaskBetweenColumn,f=(e.delTask,e.boardId),b=e.saveData,g=e.resetBoardData,h=e.getData,O=e.getUserBoardsData,E=e.isLoading,x=e.setFilterStr,v=Object(a.useContext)(M),j=v.token,y=v.userId,I=Object(a.useContext)(A).resetTimeout,T=Object(a.useState)(!1),C=Object(k.a)(T,2),L=C[0],B=C[1],z=Object(a.useState)(null),R=Object(k.a)(z,2),F=R[0],P=R[1],U=Object(a.useState)(""),H=Object(k.a)(U,2),V=H[0],W=H[1];Object(a.useEffect)((function(){I(),h(f)}),[]);var K=function(){I(),b(f,j),O(y,j)},G=Object(N.useMediaQuery)({minWidth:700}),Y=Object(a.useCallback)((function(e,n){l||n?l===e?d(null):n||(s(l,e),d(null)):d(e)}),[l]);return n?r.a.createElement(Kn,null,E&&r.a.createElement(Bn,null),r.a.createElement(Tn,{boardId:f}),r.a.createElement(_n,{open:L,onContinue:function(){c(F),B(!1)},onClose:function(){return B(!1)},msg:"Are you sure you want to delete this column?"}),r.a.createElement(Yn,{component:u.b,to:"/",onClick:function(){K(),g()}},"BACK"),r.a.createElement(Jn,null,r.a.createElement(ue,{title:n,changeTitle:o,style:Xn,rows:1,allowEnter:!0}),r.a.createElement("div",{className:"search-bar"},r.a.createElement(Qn,{placeholder:"Search for tasks..",className:"search-input",inputProps:{"aria-label":"search"},onChange:function(e){W(e.target.value),x(e.target.value)},value:V}),r.a.createElement(w.a,{onClick:function(){x(""),W("")}},"Reset"))),r.a.createElement(Wn,null,r.a.createElement(D.a,{onDragEnd:function(e){var n=e.destination,t=e.source,a=e.draggableId;n&&(n.droppableId===t.droppableId&&n.index===t.index||(t.droppableId!==n.droppableId?m(t.droppableId,n.droppableId,t.index,n.index,a):p(t.droppableId,t.index,n.index)))}},r.a.createElement(S.a,{typeName:null},t.map((function(e){return r.a.createElement(qn,{key:"".concat(e),isLargeScreen:G},r.a.createElement(He,{boardId:f,key:e,isLargeScreen:G,columnId:e,delColumn:c,flagColumnHandler:Y,setOpenDialog:B,setWillBeDeleted:P}))}))))),0===t.length&&r.a.createElement(w.a,{onClick:function(){return i(0,Object(_.a)())}},"+ Add column"),r.a.createElement(Gn,{onClick:K},"Save Board")):r.a.createElement(Bn,null)},Zn={delColumn:function(e){return{type:"DEL_COLUMN",payload:e}},addColumn:g,changeTitle:function(e){return{type:"CHANGE_TITLE",payload:e}},swapColumns:function(e,n){return{type:"SWAP_COLUMNS",payload:{col_1:e,col_2:n}}},setSelectedColumn:function(e){return{type:"SET_SELECTED_COLUMN",payload:e}},moveTasksInColumn:function(e,n,t){return{type:"MOVE_TASKS_IN_COLUMN",payload:{columnId:e,index1:n,index2:t}}},moveTaskBetweenColumn:function(e,n,t,a,r){return{type:"MOVE_TASK_BETWEEN_COLUMN",payload:{columnId1:e,columnId2:n,index1:t,index2:a,taskId:r}}},addTask:O,delTask:E,saveData:h,getData:function(e){return function(n,t){n({type:"SET_BOARD_DATA",payload:t().userBoards[e]})}},resetBoardData:function(){return{type:"SET_BOARD_DATA",payload:{selectedColumn:null,title:"",columnOrder:[]}}},getUserBoardsData:j,setFilterStr:function(e){return{type:"SET_FILTER_STR",payload:e}}},et=Object(c.b)((function(e){return{title:e.board.title,columnOrder:e.board.columnOrder,selectedColumn:e.board.selectedColumn,isLoading:e.gb.isLoading}}),Zn)($n),nt=t(13),tt=function(e,n){switch(n.type){case"INPUT_CHANGE":var t=!0;for(var a in e.inputs)e.inputs[a]&&(t=a===n.id?t&&n.isValid:t&&e.inputs[a].isValid);return Object(m.a)(Object(m.a)({},e),{},{inputs:Object(m.a)(Object(m.a)({},e.inputs),{},Object(nt.a)({},n.id,{val:n.val,isValid:n.isValid})),isValid:t});case"SET_DATA":return{inputs:n.inputs,isValid:n.formIsValid};default:return e}},at=t(124),rt=function(e,n){var t,a=!0,r=Object(at.a)(n);try{for(r.s();!(t=r.n()).done;){var o=t.value;"REQUIRE"===o.type&&(a=a&&e.trim().length>0),"MINLENGTH"===o.type&&(a=a&&e.trim().length>=o.val),"MAXLENGTH"===o.type&&(a=a&&e.trim().length<=o.val),"MIN"===o.type&&(a=a&&+e>=o.val),"MAX"===o.type&&(a=a&&+e<=o.val),"EMAIL"===o.type&&(a=a&&/^\S+@\S+\.\S+$/.test(e))}}catch(i){r.e(i)}finally{r.f()}return a},ot=t(455);function it(){var e=Object(I.a)(["\n  width: 70%;\n  margin: 5px 0;\n"]);return it=function(){return e},e}var ct=function(e,n){switch(n.type){case"CHANGE":return Object(m.a)(Object(m.a)({},e),{},{val:n.val,isValid:rt(n.val,n.validators)});case"TOUCH":return Object(m.a)(Object(m.a)({},e),{},{isTouched:!0});default:return e}},lt=Object(T.a)(ot.a)(it()),dt=function(e){var n=e.initialValue,t=e.initialValidity,o=e.helperText,i=e.id,c=e.label,l=e.onInput,d=e.type,u=e.validators,s=Object(a.useReducer)(ct,{val:n||"",isValid:t||!1,isTouched:!1}),p=Object(k.a)(s,2),m=p[0],f=p[1];Object(a.useEffect)((function(){l(i,m.val,m.isValid)}),[i,m.val,m.isValid,l]);return r.a.createElement(lt,{id:i,label:c,type:d,error:m.isTouched&&!m.isValid,helperText:m.isTouched&&!m.isValid&&o,variant:"outlined",value:m.val,onChange:function(e){f({type:"CHANGE",val:e.target.value,validators:u})},onBlur:function(){f({type:"TOUCH"})}})};function ut(){var e=Object(I.a)(["\n  color: red;\n"]);return ut=function(){return e},e}function st(){var e=Object(I.a)(["\n  margin-top: 25px;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n\n  .button {\n    margin: 5px;\n  }\n"]);return st=function(){return e},e}function pt(){var e=Object(I.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return pt=function(){return e},e}function mt(){var e=Object(I.a)(["\n  font-size: 55px;\n  margin-top: 0;\n  margin-bottom: 10px;\n"]);return mt=function(){return e},e}function ft(){var e=Object(I.a)(["\n  width: 450px;\n  height: 500px;\n  border: 1px solid lightgray;\n  border-radius: 15px;\n  margin: auto;\n  padding: 15px;\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n\n  h2 {\n    font-weight: normal;\n    padding: 0;\n    margin-top: 5px;\n    margin-bottom: 25px;\n  }\n"]);return ft=function(){return e},e}function bt(){var e=Object(I.a)(["\n  width: 100%;\n  height: calc(100vh - 50px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return bt=function(){return e},e}var gt=T.a.div(bt()),ht=T.a.div(ft()),Ot=T.a.h1(mt()),Et=T.a.form(pt()),xt=T.a.div(st()),vt=T.a.h3(ut()),jt=function(){var e,n=Object(a.useState)(!0),t=Object(k.a)(n,2),o=t[0],i=t[1],c=function(e,n){var t=Object(a.useReducer)(tt,{inputs:e,isValid:n}),r=Object(k.a)(t,2),o=r[0],i=r[1];return[o,Object(a.useCallback)((function(e,n,t){i({type:"INPUT_CHANGE",val:n,isValid:t,id:e})}),[]),Object(a.useCallback)((function(e,n){i({type:"SET_DATA",inputs:e,formIsValid:n})}),[])]}({account_name:{val:"",helperText:"",isValid:!1},password:{val:"",helperText:"",isValid:!1}},!1),l=Object(k.a)(c,3),d=l[0],u=l[1],s=l[2],b=Object(a.useContext)(M),g=function(){var e=Object(a.useState)(!0),n=Object(k.a)(e,2),t=n[0],r=n[1],o=Object(a.useState)(),i=Object(k.a)(o,2),c=i[0],l=i[1],d=Object(a.useRef)([]),u=Object(a.useCallback)(function(){var e=Object(f.a)(p.a.mark((function e(n){var t,a,o,i,c,u,s=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>1&&void 0!==s[1]?s[1]:"GET",a=s.length>2&&void 0!==s[2]?s[2]:null,o=s.length>3&&void 0!==s[3]?s[3]:{},r(!0),i=new AbortController,d.current.push(i),e.prev=6,e.next=9,fetch(n,{method:t,body:a,headers:o,signal:i.signal});case 9:return c=e.sent,e.next=12,c.json();case 12:if(u=e.sent,d.current=d.current.filter((function(e){return e!==i})),c.ok){e.next=16;break}throw new Error(u.message);case 16:return r(!1),e.abrupt("return",u);case 20:throw e.prev=20,e.t0=e.catch(6),l(e.t0.message),r(!1),e.t0;case 25:case"end":return e.stop()}}),e,null,[[6,20]])})));return function(n){return e.apply(this,arguments)}}(),[]);return Object(a.useEffect)((function(){return function(){d.current.forEach((function(e){return e.abort()}))}}),[]),{isLoading:t,error:c,sendRequest:u,clearError:function(){l(null)}}}(),h=g.error,O=g.sendRequest,E=function(){var e=Object(f.a)(p.a.mark((function e(n){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!o){e.next=13;break}return e.prev=2,e.next=5,O("".concat("http://localhost:3000","/users/login"),"POST",JSON.stringify({account_name:d.inputs.account_name.val,password:d.inputs.password.val}),{"Content-Type":"application/json"});case 5:t=e.sent,b.login(t.userId,t.token),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:e.next=22;break;case 13:return e.prev=13,e.next=16,O("".concat("http://localhost:3000","/users/signup"),"POST",JSON.stringify({account_name:d.inputs.account_name.val,password:d.inputs.password.val}),{"Content-Type":"application/json"});case 16:a=e.sent,b.login(a.userId,a.token),e.next=22;break;case 20:e.prev=20,e.t1=e.catch(13);case 22:case"end":return e.stop()}}),e,null,[[2,9],[13,20]])})));return function(n){return e.apply(this,arguments)}}();return r.a.createElement(gt,null,r.a.createElement(ht,null,r.a.createElement(Ot,null,"hello."),r.a.createElement("h2",null,o?"Welcome back!":"New user!"),r.a.createElement(Et,{onSubmit:E},h&&r.a.createElement(vt,null,h),r.a.createElement(dt,{id:"account_name",label:"User Name",helperText:"Please enter a username.",onInput:u,validators:[{type:"REQUIRE"}]}),r.a.createElement(dt,{id:"password",type:"password",label:"Password",helperText:"Password should be minimum 5 characters.",onInput:u,validators:[(e=5,{type:"MINLENGTH",val:e})]}),r.a.createElement(xt,null,r.a.createElement(w.a,{disabled:!d.isValid,type:"submit",disableElevation:!0,className:"button",variant:"contained",color:"default"},o?"Login":"Signup"),r.a.createElement(w.a,{disableElevation:!0,className:"button",variant:"contained",color:"secondary",onClick:function(){s(Object(m.a)({},d.inputs),d.inputs.account_name.isValid&&d.inputs.password.isValid),i((function(e){return!e}))}},"switch to ".concat(o?"Sign up":"Log in"))))))};function yt(){var e=Object(I.a)(["\n  width: 300px;\n  height: 100px;\n  margin-bottom: 20px;\n  border-radius: 15px;\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n  align-items: center;\n  justify-content: center;\n\n  .link {\n    text-decoration: none;\n    color: gray;\n  }\n\n  .button {\n    font-family: inherit;\n    font-size: 20px;\n    text-decoration: none;\n    color: gray;\n  }\n"]);return yt=function(){return e},e}function kt(){var e=Object(I.a)(["\n  width: 300px;\n  height: 100px;\n  margin-bottom: 20px;\n  border-radius: 10px;\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n  align-items: center;\n  justify-content: center;\n\n  .link {\n    font-family: inherit;\n    font-size: 20px;\n    text-decoration: none;\n    color: gray;\n  }\n"]);return kt=function(){return e},e}var It=Object(T.a)(V.a)(kt()),Tt=Object(T.a)(V.a)(yt()),wt=r.a.memo((function(e){var n=e.title,t=e.id,o=e.setOpenDialog,i=e.setWillBeDeleted,c=Object(a.useState)(!1),l=Object(k.a)(c,2),d=l[0],s=l[1];return d?r.a.createElement(z.a,{onClickAway:function(){return s(!1)}},r.a.createElement(Tt,null,r.a.createElement(w.a,{className:"button"},r.a.createElement(u.c,{className:"link",to:"/boards/".concat(t)},"OPEN")),r.a.createElement(w.a,{className:"button",onClick:function(){i(t),o(!0)}},"Delete"))):r.a.createElement(It,{onClick:function(){return s(!0)}},r.a.createElement("h2",null,n))}));function Ct(){var e=Object(I.a)(["\n  width: 300px;\n  height: 100px;\n  margin-bottom: 20px;\n  border-radius: 15px;\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n  align-items: center;\n  justify-content: center;\n\n  .link {\n    text-decoration: none;\n    color: gray;\n  }\n\n  .button {\n    font-family: inherit;\n    font-size: 20px;\n    text-decoration: none;\n    color: gray;\n  }\n"]);return Ct=function(){return e},e}function Dt(){var e=Object(I.a)(["\n  width: 300px;\n  height: 100px;\n  margin-bottom: 20px;\n  border-radius: 10px;\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n  align-items: center;\n  justify-content: center;\n\n  .link {\n    font-family: inherit;\n    font-size: 20px;\n    text-decoration: none;\n    color: gray;\n  }\n"]);return Dt=function(){return e},e}var St=Object(T.a)(V.a)(Dt()),Nt=Object(T.a)(V.a)(Ct()),_t=r.a.memo((function(e){var n=e.title,t=e.id,o=e.setOpenDialog,i=e.setWillBeDeleted,c=Object(a.useState)(!1),l=Object(k.a)(c,2),d=l[0],s=l[1];return d?r.a.createElement(Nt,{onMouseLeave:function(){return s(!1)}},r.a.createElement(w.a,{className:"button"},r.a.createElement(u.c,{className:"link",to:"/boards/".concat(t)},"OPEN")),r.a.createElement(w.a,{className:"button",onClick:function(){i(t),o(!0)}},"Delete")):r.a.createElement(St,{onMouseEnter:function(){return s(!0)}},r.a.createElement("h2",null,n))}));function At(){var e=Object(I.a)(["\n"]);return At=function(){return e},e}function Mt(){var e=Object(I.a)(["\n  position: absolute;\n  font-size: 17px;\n  left: 30px;\n  top: 30px;\n  color: red;\n"]);return Mt=function(){return e},e}function Lt(){var e=Object(I.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 50px;\n  border-radius: 15px;\n  width: 100%;\n  background: #EBECF0;\n"]);return Lt=function(){return e},e}function Bt(){var e=Object(I.a)(["\n  margin: 50px 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  .link {\n    color: inherit;\n  }\n\n  .MuiIconButton-root.icon {\n    font-size: 30px;\n  }\n\n  .icon {\n    position: absolute;\n    right: 20px;\n    top: 20px;\n  }\n"]);return Bt=function(){return e},e}function zt(){var e=Object(I.a)(["\n"]);return zt=function(){return e},e}var Rt=T.a.h1(zt()),Ft=T.a.div(Bt()),Pt=T.a.div(Lt()),Ut=Object(T.a)(w.a)(Mt()),Ht=Object(T.a)(w.a)(At()),Vt=function(e){var n=e.boardsList,t=e.getUserBoardsData,o=e.postUserBoard,i=e.delUserBoard,c=Object(d.h)().userId,l=Object(a.useState)(!1),s=Object(k.a)(l,2),p=s[0],m=s[1],f=Object(a.useContext)(M),b=f.token,g=f.logout,h=Object(a.useContext)(A).resetTimeout,O=Object(a.useState)(null),E=Object(k.a)(O,2),x=E[0],v=E[1];P.isMobile;return Object(a.useEffect)((function(){h(),t(c,b)}),[]),n?r.a.createElement(Ft,null,r.a.createElement(_n,{open:p,onContinue:function(){i(x,b),m(!1)},onClose:function(){return m(!1)},msg:"Are you sure you want to delete this board?"}),r.a.createElement(Ut,{onClick:function(){g()}},"Logout"),r.a.createElement(Rt,null,"My Boards"),r.a.createElement(B.a,{className:"icon",size:"large"},r.a.createElement(u.c,{className:"link",to:"/calendar/".concat(qe()(new Date).format("YYYY-MM"))},r.a.createElement(R.a,{icon:F.b}))),r.a.createElement(Pt,null,r.a.createElement(S.a,{typeName:null},n.map((function(e){var n=e.id,t=e.title;return r.a.createElement("div",{key:n},P.isMobile?r.a.createElement(wt,{title:t,id:n,setOpenDialog:m,setWillBeDeleted:v}):r.a.createElement(_t,{title:t,id:n,setOpenDialog:m,setWillBeDeleted:v}))}))),r.a.createElement(Ht,{onClick:function(){o(c,b),h()}},"Create New Board"))):r.a.createElement("h1",null,"Is loading boards...")},Wt={postUserBoard:function(e,n){return function(t){var a={"Content-Type":"application/json",Authorization:"Bearer: ".concat(n)};v.post("".concat("http://localhost:3000","/boards/"),JSON.stringify({creator:e,title:"New Board"}),{headers:a}).then((function(e){t({type:"ADD_BOARD",payload:e.data.board})}))}},delUserBoard:function(e,n){return function(t){var a={"Content-Type":"application/json",Authorization:"Bearer: ".concat(n)};v.delete("".concat("http://localhost:3000","/boards/").concat(e),{headers:a}).then((function(){t({type:"DEL_BOARD",payload:{id:e}})}))}},getUserBoardsData:j},Kt=Object(c.b)((function(e){return{boardsList:Object.keys(e.userBoards).map((function(n){return{id:n,title:e.userBoards[n].title}}))}}),Wt)(Vt),Gt=t(453),Yt=t(128),Jt=[{monthName:"January",daysCount:31},{monthName:"February",daysCount:28},{monthName:"March",daysCount:31},{monthName:"April",daysCount:30},{monthName:"May",daysCount:31},{monthName:"June",daysCount:30},{monthName:"July",daysCount:31},{monthName:"August",daysCount:31},{monthName:"September",daysCount:30},{monthName:"October",daysCount:31},{monthName:"November",daysCount:30},{monthName:"December",daysCount:31}],qt=t(447);function Qt(){var e=Object(I.a)(["\n  background: ",";\n  height: 15px;\n  width: 15px;\n  border-radius: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  left: 0;\n  top: 0;\n  margin-top: 8px;\n  margin-left: 15px;\n\n  .MuiIconButton-root .MuiButton-label{\n    font-size: 15px;\n    margin: 0;\n    padding: 0;\n    width: 100%;\n  }\n"]);return Qt=function(){return e},e}function Xt(){var e=Object(I.a)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: 30px;\n  position: relative;\n  overflow: hidden;\n\n  .text {\n    padding: 0;\n    font-size: 15px;\n    font-family: inherit;\n    color: black;\n    text-transform: none;\n    text-align: left;\n    height: 100%;\n    width: 55%;\n    position: absolute;\n    top: 0;\n    left: 43px;\n    display: flex;\n    align-items: center;\n    white-space: nowrap;\n    overflow: hidden;\n  }\n\n"]);return Xt=function(){return e},e}function $t(){var e=Object(I.a)(["\n  background: teal;\n  color: white;\n  padding: 3px;\n  max-width: 200px;\n  border-radius: 5px;\n\n  h1 {\n    font-size: 15px;\n  }\n"]);return $t=function(){return e},e}var Zt=T.a.div($t()),ea=T.a.div(Xt()),na=T.a.div(Qt(),(function(e){return e.colour})),ta=function(e){var n=e.id,t=(e.date,e.title),o=(e.description,e.todo,e.boardId),i=e.setSelectedTask,c=Object(a.useState)(null),l=Object(k.a)(c,2),u=l[0],s=l[1],p=Object(d.g)(),m=Boolean(u);return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{onClickAway:function(){s(null)}},r.a.createElement(ea,{onClick:function(e){s(e.currentTarget)}},r.a.createElement(na,{colour:"teal"}),r.a.createElement("div",{className:"text"},t))),r.a.createElement(qt.a,{className:"popper",open:m,anchorEl:u,onTouchStart:function(){i(n),p.push("/boards/".concat(o))},disableRestoreFocus:!0},r.a.createElement(Zt,null,r.a.createElement("h1",null,t))))};function aa(){var e=Object(I.a)(["\n  background: ",";\n  height: 15px;\n  width: 15px;\n  border-radius: 20px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  left: 0;\n  top: 0;\n  margin-top: 8px;\n  margin-left: 15px;\n\n  .MuiIconButton-root .MuiButton-label{\n    font-size: 15px;\n    margin: 0;\n    padding: 0;\n    width: 100%;\n  }\n"]);return aa=function(){return e},e}function ra(){var e=Object(I.a)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: 30px;\n  position: relative;\n  overflow: hidden;\n\n  .text {\n    padding: 0;\n    font-size: 15px;\n    font-family: inherit;\n    color: black;\n    text-transform: none;\n    text-align: left;\n    height: 100%;\n    width: 55%;\n    position: absolute;\n    top: 0;\n    left: 43px;\n    display: flex;\n    align-items: center;\n    white-space: nowrap;\n    overflow: hidden;\n  }\n\n"]);return ra=function(){return e},e}function oa(){var e=Object(I.a)(["\n  background: teal;\n  color: white;\n  padding: 3px;\n  max-width: 200px;\n  border-radius: 5px;\n\n  h1 {\n    font-size: 15px;\n  }\n"]);return oa=function(){return e},e}var ia=T.a.div(oa()),ca=T.a.div(ra()),la=T.a.div(aa(),(function(e){return e.colour})),da=function(e){var n=e.id,t=(e.date,e.title),o=(e.description,e.todo,e.boardId),i=e.setSelectedTask,c=Object(a.useState)(null),l=Object(k.a)(c,2),d=l[0],s=l[1],p=function(){s(null)},m=Boolean(d);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ca,{onClick:function(){return i(n)}},r.a.createElement(u.c,{to:"/boards/".concat(o)},r.a.createElement(la,{colour:"teal"}),r.a.createElement("div",{onMouseEnter:function(e){s(e.currentTarget)},onMouseLeave:p,className:"text"},t))),r.a.createElement(qt.a,{open:m,anchorEl:d,placement:"bottom-start",onClose:p,disableRestoreFocus:!0},r.a.createElement(ia,null,r.a.createElement("h1",null,t))))},ua=P.isMobile?ta:da,sa={setSelectedTask:y},pa=Object(c.b)((function(e,n){return Object(m.a)({},e.events[n.id])}),sa)(ua);function ma(){var e=Object(I.a)(["\n  width: 13%;\n  height: 100%;\n  background: white;\n  border-radius: 10px;\n\n  .circle {\n    background: ",";\n    border-radius: 25px;\n    width: 35px;\n    height 35px;\n    margin-left: 5px;\n  }\n\n  p {\n    font-size: 20px;\n    height: 100%;\n    width: 100%;\n    text-align: center;\n    padding-top: 5px;\n    color: ",";\n  }\n\n  .events {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-evenly;\n\n  }\n"]);return ma=function(){return e},e}var fa=T.a.div(ma(),(function(e){return e.isToday?"teal":"initial"}),(function(e){return e.isToday?"white":"initial"})),ba=function(e){if(!e)return!1;var n=new Date;return(n=new Date(n.getFullYear(),n.getMonth(),n.getDate())).toISOString()===e.toISOString()},ga=r.a.memo((function(e){e.id;var n=e.date,t=e.eventIds;return r.a.createElement(fa,{isToday:ba(n)},r.a.createElement("div",{className:"circle"},r.a.createElement("p",null,n&&n.getDate())),r.a.createElement("div",{className:"events"},t.map((function(e){return r.a.createElement(pa,{id:e})}))))})),ha=Object(c.b)((function(e,n){return{date:e.dates[n.id].date,eventIds:e.dates[n.id].eventIds.filter((function(t){return!!e.events[t]&&n.showBoard.includes(e.events[t].boardId)}))}}),{})(ga),Oa=t(446),Ea=t(457),xa=t(452),va=function(e){var n=e.boardIds,t=e.idToTitle,o=(e.showBoard,e.setShowBoard),i=Object(a.useState)("Show all"),c=Object(k.a)(i,2),l=c[0],d=c[1];return r.a.createElement(Oa.a,{variant:"outlined"},r.a.createElement(Ea.a,null,"Select Boards"),r.a.createElement(xa.a,{native:!0,value:l,onChange:function(e){d(e.target.value),o(e.target.value)},label:"Select board",inputProps:{name:"age",id:"filled-age-native-simple"}},r.a.createElement("option",{value:n},"Show all"),n.map((function(e){return r.a.createElement("option",{value:e},t[e])}))))},ja=Object(c.b)((function(e,n){return{idToTitle:Yt.a((function(n,t){return n.concat(e.userBoards[t].title)}),[],(function(e){return e}),n.boardIds)}}),{})(va),ya=t(29),ka=t(129),Ia=t(448);function Ta(){var e=Object(I.a)(["\n  width: 100%;\n  height 200px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  h1 {\n    font-size: 40px;\n    color: red;\n    margin: 0;\n  }\n\n  h2 {\n    margin: 0;\n    font-size: 20px;\n  }\n"]);return Ta=function(){return e},e}var wa=Object(ya.a)(Array(100).keys()).map((function(e){return e+2e3})),Ca=["January","February","March","April","May","June","July","August","September","October","November","December"],Da=function(e,n){return new Date(n,Ca.indexOf(e),1)},Sa=T.a.div(Ta()),Na=r.a.memo((function(e){var n=e.monthName,t=e.yearName,o=e.changeMonth,i=Object(a.useState)(),c=Object(k.a)(i,2),l=c[0],d=c[1],u=Object(a.useState)(),s=Object(k.a)(u,2),p=s[0],m=s[1],f=function(){return d(null)},b=function(){return m(null)};return r.a.createElement(Sa,null,r.a.createElement(w.a,{onClick:function(e){d(e.currentTarget)}},r.a.createElement("h1",null,n)),r.a.createElement(w.a,{onClick:function(e){m(e.currentTarget)}},r.a.createElement("h2",null,t)),r.a.createElement(ka.a,{anchorEl:l,keepMounted:!0,open:Boolean(l),onClose:f},Ca.map((function(e){return r.a.createElement(Ia.a,{onClick:function(){o(Da(e,t)),f()}},e)}))),r.a.createElement(ka.a,{anchorEl:p,keepMounted:!0,open:Boolean(p),onClose:b},wa.map((function(e){return r.a.createElement(Ia.a,{onClick:function(){o(Da(n,e)),b()}},e)}))))}));function _a(){var e=Object(I.a)(["\n  display: flex;\n  margin: 0 auto;\n  padding-bottom: 20px;\n  width: 80%;\n  height: 30px;\n  justify-content: space-evenly;\n\n  p {\n    width: 13%;\n    text-align: center;\n    font-weight: bold;\n    font-size: 18px;\n  }\n"]);return _a=function(){return e},e}function Aa(){var e=Object(I.a)(["\n  display: flex;\n  margin: 0 auto;\n  width: 80%;\n  height: 180px;\n  justify-content: space-evenly;\n  padding: 10px 0;\n"]);return Aa=function(){return e},e}function Ma(){var e=Object(I.a)(["\n  background: #EBECF0;\n  padding: 15px;\n"]);return Ma=function(){return e},e}function La(){var e=Object(I.a)(["\n  position: relative;\n\n  .MuiButton-root.button {\n    color: red;\n    font-size: 20px;\n  }\n\n  .topRight {\n    display: flex;\n    align-items: center;\n    position: absolute;\n    right: 30px;\n    top: 30px;\n  }\n\n  .topLeft {\n    display: flex;\n    align-items: center;\n    position: absolute;\n    left: 30px;\n    top: 30px;\n  }\n\n"]);return La=function(){return e},e}function Ba(){var e=Object(I.a)(["\n  position: absolute;\n  left: 10px;\n  top: 10px;\n  font-size: 20px;\n  color: red;\n"]);return Ba=function(){return e},e}var za,Ra=Object(T.a)(w.a)(Ba()),Fa=T.a.div(La()),Pa=["Sun","Mon","Tues","Wed","Thurs","Fri","Sat"],Ua=T.a.div(Ma()),Ha=T.a.div(Aa()),Va=T.a.div(_a()),Wa=function(e){var n=e.monthName,t=e.yearName,o=e.dates,i=e.changeMonth,c=(e.moveEventBetweenDates,e.addEvent,e.delEvent,e.boardIds),l=e.getEvents,d=e.yearMonth,s=e.userBoards,p=Object(a.useState)(c),m=Object(k.a)(p,2),f=m[0],b=m[1],g=Object(a.useContext)(A).resetTimeout;return Object(a.useEffect)((function(){g(),l(),i(new Date(d))}),[s]),r.a.createElement(Fa,null,r.a.createElement("div",{className:"topLeft"},r.a.createElement(Ra,{component:u.b,to:"/"},"BACK")),r.a.createElement("div",{className:"topRight"},r.a.createElement(w.a,{onClick:function(){var e=new Date;i(new Date(e.getFullYear(),e.getMonth(),1))},style:{marginRight:"20px"}},"Today"),r.a.createElement(ja,{boardIds:c,showBoard:f,setShowBoard:b})),r.a.createElement(Na,{changeMonth:i,monthName:n,yearName:t}),r.a.createElement(Ua,null,r.a.createElement(Va,null,Pa.map((function(e){return r.a.createElement("p",null,e)}))),o.map((function(e){return r.a.createElement(Ha,null,e.map((function(e){return r.a.createElement(ha,{showBoard:f,id:e})})))}))))},Ka={changeMonth:function(e){return function(n,t){var a=Object.keys(t().dates),r=Yt.a((function(n,a){var r=t().dates[a].dateIndex,o=t().dates[a].weekIndex;return n.concat(function(e,n,t){var a=7*t+(n-e.getDay()+1);return a<=0||a>Jt[e.getMonth()].daysCount?null:new Date(e.getFullYear(),e.getMonth(),a)}(e,r,o))}),[],(function(e){return e}),a),o=Object.values(t().events),i=Yt.a((function(e,n){var t=n.id;return e.concat(t)}),[],(function(e){return e.date}),o),c=Yt.a((function(e,n){if(r[n][0]){var t=r[n][0].toISOString();return i[t]?e.concat(i[t]):e}return e}),[],(function(e){return e}),a);n({type:"CHANGE_MONTH",payload:{newDate:e,dateIdToEventIds:c,dateIdToNewDate:r}})}},getEvents:function(){return function(e,n){var t=n().userBoards,a={};Gt.a((function(e,n){var t=e.tasks;Object.values(t).forEach((function(e){null!=e.date&&(a[e.id]=Object(m.a)(Object(m.a)({},e),{},{boardId:n}))}))}),t),e({type:"SET_EVENTS_DATA",payload:{events:a}})}},moveEventBetweenDates:function(e,n,t,a,r){return{type:"MOVE_EVENT_BETWEEN_DATE",payload:{dateId1:e,dateId2:n,index1:t,index2:a,eventId:r}}}},Ga=Object(c.b)((function(e){return{monthName:e.calendar.monthName,yearName:e.calendar.yearName,dates:e.calendar.dates,boardIds:Object.keys(e.userBoards),userBoards:e.userBoards}}),Ka)(Wa),Ya=function(){var e,n=function(){var e=Object(a.useState)(null),n=Object(k.a)(e,2),t=n[0],r=n[1],o=Object(a.useState)(void 0),i=Object(k.a)(o,2),c=i[0],l=i[1],d=Object(a.useState)(!1),u=Object(k.a)(d,2),s=u[0],p=u[1],m=Object(a.useCallback)((function(e,n,t){p(n),r(e);var a=t||new Date((new Date).getTime()+216e5);l(a),localStorage.setItem("userData",JSON.stringify({userId:e,token:n,expiration:a.toISOString()}))}),[]),f=Object(a.useCallback)((function(){p(null),r(null),l(null),localStorage.removeItem("userData")}),[]),b=Object(a.useCallback)((function(){var e=new Date((new Date).getTime()+216e5);l(e)}),[]);return Object(a.useEffect)((function(){if(s&&c){za&&clearTimeout(za);var e=c.getTime()-(new Date).getTime();za=setTimeout(f,e)}else clearTimeout(za)}),[s,f,c,b]),Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));e&&e.token&&new Date(e.expiration)>new Date&&m(e.userId,e.token,new Date(e.expiration))}),[m]),{token:s,login:m,logout:f,resetTimeout:b,userId:t}}(),t=n.token,o=n.login,i=n.logout,c=n.resetTimeout,s=n.userId;return e=t&&s?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/:userId/boards"},r.a.createElement(Kt,null)),r.a.createElement(d.b,{exact:!0,path:"/boards/:boardId",render:function(e){var n=e.match;return r.a.createElement(et,{boardId:n.params.boardId})}}),r.a.createElement(d.b,{exact:!0,path:"/calendar/:yearMonth",render:function(e){var n=e.match;return r.a.createElement(Ga,{yearMonth:n.params.yearMonth})}}),r.a.createElement(d.a,{to:"/".concat(s,"/boards")}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(d.b,{exact:!0,path:"/"},r.a.createElement(jt,null)),r.a.createElement(d.a,{to:"/"})),r.a.createElement(l.b,{injectFirst:!0},r.a.createElement(M.Provider,{value:{userId:s,token:t,login:o,logout:i}},r.a.createElement(A.Provider,{value:{resetTimeout:c}},r.a.createElement(u.a,null,r.a.createElement(d.d,null,e)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));for(var Ja=t(33),qa=t(126),Qa=t(127),Xa=t.n(Qa),$a={selectedColumn:null,title:"",columnOrder:[]},Za=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$a,n=arguments.length>1?arguments[1]:void 0,t=n.type,a=n.payload,r=Object(ya.a)(e.columnOrder);switch(t){case"SET_BOARD_DATA":return{title:a.title,columnOrder:a.columnOrder,selectedColumn:a.selectedColumn};case"CHANGE_TITLE":return Object(m.a)(Object(m.a)({},e),{},{title:a});case"ADD_COLUMN":if(a.columnId){var o=r.indexOf(a.columnId)+1;r.splice(o,0,a.insertAfter)}else r.push(a.insertAfter);return Object(m.a)(Object(m.a)({},e),{},{columnOrder:r});case"DEL_COLUMN":var i=Object(m.a)(Object(m.a)({},e),{},{columnOrder:e.columnOrder.filter((function(e){return a!==e}))});return i;case"SWAP_COLUMNS":var c=e.columnOrder.indexOf(a.col_1),l=e.columnOrder.indexOf(a.col_2),d=r[c];return r[c]=r[l],r[l]=d,Object(m.a)(Object(m.a)({},e),{},{columnOrder:r});case"SET_SELECTED_COLUMN":return Object(m.a)(Object(m.a)({},e),{},{selectedColumn:a});default:return e}},er={"column-1":{id:"column-1",title:"first column",taskOrder:["task-1","task-2"]},"column-2":{id:"column-2",title:"second column",taskOrder:["task-3"]},"column-3":{id:"column-3",title:"third column",taskOrder:[]}},nr=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:er,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"SET_BOARD_DATA":return Object(m.a)({},r.columns);case"ADD_COLUMN":return Object(m.a)(Object(m.a)({},n),{},Object(nt.a)({},r.insertAfter,{id:r.insertAfter,title:"New Column",taskOrder:[]}));case"DEL_COLUMN":var o=Object(m.a)({},n);return delete o[r],o;case"MOVE_TASKS_IN_COLUMN":var i=Object(ya.a)(n[r.columnId].taskOrder),c=i[r.index1];return i.splice(r.index1,1),i.splice(r.index2,0,c),Object(m.a)(Object(m.a)({},n),{},Object(nt.a)({},r.columnId,Object(m.a)(Object(m.a)({},n[r.columnId]),{},{taskOrder:i})));case"MOVE_TASK_BETWEEN_COLUMN":var l=Object(ya.a)(n[r.columnId1].taskOrder),d=Object(ya.a)(n[r.columnId2].taskOrder);return l.splice(r.index1,1),d.splice(r.index2,0,r.taskId),Object(m.a)(Object(m.a)({},n),{},(e={},Object(nt.a)(e,r.columnId1,Object(m.a)(Object(m.a)({},n[r.columnId1]),{},{taskOrder:l})),Object(nt.a)(e,r.columnId2,Object(m.a)(Object(m.a)({},n[r.columnId2]),{},{taskOrder:d})),e));case"ADD_TASK":return Object(m.a)(Object(m.a)({},n),{},Object(nt.a)({},r.columnId,Object(m.a)(Object(m.a)({},n[r.columnId]),{},{taskOrder:[].concat(Object(ya.a)(n[r.columnId].taskOrder),[r.taskId])})));case"DEL_TASK":return Object(m.a)(Object(m.a)({},n),{},Object(nt.a)({},r.columnId,Object(m.a)(Object(m.a)({},n[r.columnId]),{},{taskOrder:n[r.columnId].taskOrder.filter((function(e){return r.taskId!==e}))})));case"CHANGE_COLUMN_TITLE":return Object(m.a)(Object(m.a)({},n),{},Object(nt.a)({},r.columnId,Object(m.a)(Object(m.a)({},n[r.columnId]),{},{title:r.title})));default:return n}},tr=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"SET_BOARD_DATA":return Object(m.a)({},r.tasks);case"CHANGE_TASK_TITLE":return e=Object(m.a)(Object(m.a)({},n),{},Object(nt.a)({},r.taskId,Object(m.a)(Object(m.a)({},n[r.taskId]),{},{title:r.newTitle})));case"CHANGE_TASK_DESCRIPTION":return e=Object(m.a)(Object(m.a)({},n),{},Object(nt.a)({},r.taskId,Object(m.a)(Object(m.a)({},n[r.taskId]),{},{description:r.newDescription})));case"INCREMENT_COMPLETED_COUNT":return Object(m.a)(Object(m.a)({},n),{},Object(nt.a)({},r.taskId,Object(m.a)(Object(m.a)({},n[r.taskId]),{},{completedCount:n[r.taskId].completedCount+1})));case"DECREMENT_COMPLETED_COUNT":return Object(m.a)(Object(m.a)({},n),{},Object(nt.a)({},r.taskId,Object(m.a)(Object(m.a)({},n[r.taskId]),{},{completedCount:n[r.taskId].completedCount-1})));case"ADD_TASK_DATE":return Object(m.a)(Object(m.a)({},n),{},Object(nt.a)({},r.taskId,Object(m.a)(Object(m.a)({},n[r.taskId]),{},{date:r.date})));case"DEL_TASK_DATE":return Object(m.a)(Object(m.a)({},n),{},Object(nt.a)({},r.taskId,Object(m.a)(Object(m.a)({},n[r.taskId]),{},{date:null})));case"DEL_ALL_TODO_ITEM":return Object(m.a)(Object(m.a)({},n),{},Object(nt.a)({},r.taskId,Object(m.a)(Object(m.a)({},n[r.taskId]),{},{todo:[],completedCount:0})));case"ADD_TASK":return Object(m.a)(Object(m.a)({},n),{},Object(nt.a)({},r.taskId,{columnId:r.columnId,id:r.taskId,title:r.content||"New Task",date:null,description:"",todo:[],completedCount:0}));case"DEL_TASK":return delete(e=Object(m.a)({},n))[r.taskId],e;case"MOVE_TODOS_IN_TASK":var o=Object(ya.a)(n[r.taskId].todo),i=o[r.index1];return o.splice(r.index1,1),o.splice(r.index2,0,i),Object(m.a)(Object(m.a)({},n),{},Object(nt.a)({},r.taskId,Object(m.a)(Object(m.a)({},n[r.taskId]),{},{todo:o})));case"MOVE_TASK_BETWEEN_COLUMN":return Object(m.a)(Object(m.a)({},n),{},Object(nt.a)({},r.taskId,Object(m.a)(Object(m.a)({},n[r.taskId]),{},{columnId:r.columnId2})));case"ADD_TODO_ITEM":return Object(m.a)(Object(m.a)({},n),{},Object(nt.a)({},r.taskId,Object(m.a)(Object(m.a)({},n[r.taskId]),{},{todo:[].concat(Object(ya.a)(n[r.taskId].todo),[r.todoItemId])})));case"DEL_TODO_ITEM":return Object(m.a)(Object(m.a)({},n),{},Object(nt.a)({},r.taskId,Object(m.a)(Object(m.a)({},n[r.taskId]),{},{todo:n[r.taskId].todo.filter((function(e){return r.todoItemId!==e}))})));case"DEL_COLUMN":return e={},Gt.a((function(n,t){n.columnId!==r&&(e[t]=n)}),n),e;default:return n}},ar={"todo-1":{id:"todo-1",title:"first todo",isCompleted:!1},"todo-2":{id:"todo-2",title:"second todo",isCompleted:!1},"todo-3":{id:"todo-3",title:"third todo",isCompleted:!1}},rr=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ar,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"SET_BOARD_DATA":return Object(m.a)({},r.todoItems);case"CHANGE_TODO_ITEM_TITLE":return e=Object(m.a)(Object(m.a)({},n),{},Object(nt.a)({},r.todoItemId,Object(m.a)(Object(m.a)({},n[r.todoItemId]),{},{title:r.newTitle})));case"TOGGLE_IS_COMPLETED":return e=Object(m.a)(Object(m.a)({},n),{},Object(nt.a)({},r.todoItemId,Object(m.a)(Object(m.a)({},n[r.todoItemId]),{},{isCompleted:!n[r.todoItemId].isCompleted})));case"ADD_TODO_ITEM":return Object(m.a)(Object(m.a)({},n),{},Object(nt.a)({},r.todoItemId,{id:r.todoItemId,taskId:r.taskId,title:r.title||"New todo item",isCompleted:!1}));case"DEL_TODO_ITEM":return delete(e=Object(m.a)({},n))[r.todoItemId],e;case"DEL_ALL_TODO_ITEM":case"DEL_TASK":return e={},Gt.a((function(n,t){n.taskId!==r.taskId&&(e[t]=n)}),n),e;default:return n}},or=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,t=n.type,a=n.payload,r=Object(m.a)({},e);switch(t){case"SET_USER_BOARDS_DATA":return a;case"ADD_BOARD":return Object(m.a)(Object(m.a)({},e),{},Object(nt.a)({},a.id,Object(m.a)({},a)));case"DEL_BOARD":return delete r[a.id],r;default:return e}},ir=new Date,cr={monthName:Jt[ir.getMonth()].monthName,dates:[[],[],[],[],[],[]]},lr=0;lr<42;lr+=1)cr.dates[Math.floor(lr/7)].push("date-".concat(lr));for(var dr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cr,n=arguments.length>1?arguments[1]:void 0,t=n.type,a=n.payload;switch(t){case"CHANGE_MONTH":return Object(m.a)(Object(m.a)({},e),{},{monthName:Jt[a.newDate.getMonth()].monthName,yearName:a.newDate.getFullYear()});default:return e}},ur={},sr=function(e,n,t){var a=7*t+(n-e.getDay()+1);return a<=0||a>Jt[e.getMonth()].daysCount?null:new Date(e.getFullYear(),e.getMonth(),a)},pr=0;pr<42;pr+=1)ur["date-".concat(pr)]={id:"date-".concat(pr),date:sr(new Date,pr%7,Math.floor(pr/7)),weekIndex:Math.floor(pr/7),dateIndex:pr%7,eventIds:[]};var mr=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ur,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload,o={};switch(a){case"CHANGE_MONTH":for(var i=0;i<42;i+=1)o["date-".concat(i)]=Object(m.a)(Object(m.a)({},n["date-".concat(i)]),{},{eventIds:r.dateIdToEventIds["date-".concat(i)],date:r.dateIdToNewDate["date-".concat(i)][0]});return o;case"MOVE_EVENT_BETWEEN_DATE":var c=Object(ya.a)(n[r.dateId1].eventIds),l=Object(ya.a)(n[r.dateId2].eventIds);return c.splice(r.index1,1),l.splice(r.index2,0,r.eventId),o=Object(m.a)(Object(m.a)({},n),{},(e={},Object(nt.a)(e,r.dateId1,Object(m.a)(Object(m.a)({},n[r.dateId1]),{},{eventIds:c})),Object(nt.a)(e,r.dateId2,Object(m.a)(Object(m.a)({},n[r.dateId2]),{},{eventIds:l})),e));default:return n}},fr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,t=n.type,a=n.payload;switch(t){case"SET_EVENTS_DATA":return Object(m.a)({},a.events);default:return e}},br={selectedTask:null,isLoading:!1,filterStr:""},gr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:br,n=arguments.length>1?arguments[1]:void 0,t=n.type,a=n.payload;switch(t){case"SET_SELECTED_TASK":return Object(m.a)(Object(m.a)({},e),{},{selectedTask:a});case"SET_LOADING":return Object(m.a)(Object(m.a)({},e),{},{isLoading:a});case"SET_FILTER_STR":return Object(m.a)(Object(m.a)({},e),{},{filterStr:a});default:return e}},hr=Object(Ja.c)({board:Za,columns:nr,tasks:tr,todoItems:rr,userBoards:or,calendar:dr,dates:mr,events:fr,gb:gr}),Or=[qa.a,Xa.a],Er=Object(Ja.e)(hr,{},Ja.a.apply(void 0,Or));i.a.render(r.a.createElement(c.a,{store:Er},r.a.createElement(Ya,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[144,1,2]]]);
//# sourceMappingURL=main.c9e49154.chunk.js.map